<div class="full-fixed spaced"><div class="closer" ng-click="goBack()" style="font-size: 2em;left: 5px;position: absolute; top: 5px;cursor:pointer"><i class="fa fa-times"></i></div><div class="admin-header container-fluid"><h2 class="col-md-6"><a ui-sref="calendar()">Termine</a> // {{event.start | amDateFormat:'DD.MM.YYYY - HH:mm'}} // Labor {{ event.labor_id}}</h2><div class="menu col-md-6"><ul><li><a><button ng-if="inFuture()" class="btn btn-default" ng-disabled="dateError" ng-click="saveEvent()"><i class="fa fa-check"></i> Speichern</button></a></li></ul></div></div><div class="container" style="padding-top:20px"><div class="col-md-12" ng-if="event.type == 'closed'"><div class="panel panel-default"><div class="panel-heading"><div class="btn-group pull-right"><button ng-if="inFuture()" title="Buchung bearbeiten" class="btn btn-xs" ng-click="toggleEventEdit()" ng-class="{'btn-success':edit.event == false, 'btn-danger': edit.event == true}"><i class="fa" ng-class="{'fa-lock':edit.event == false, 'fa-unlock': edit.event == true}"></i></button></div><h3 style="margin:0">Sperrtermin</h3></div><div class="panel-body"><div class="col-md-6"><div class="form-group"><label>Titel</label><p ng-if="!edit.event">{{ event.title}}</p><input ng-if="edit.event" type="text" class="form-control" ng-model="event.title"></div><div class="form-group"><label>Ganztags</label><div class="label_text" ng-if="!edit.event"><i ng-if="event.full_day" class="fa fa-check text-success"></i> <i ng-if="!event.full_day" class="fa fa-times text-danger"></i></div><div ng-if="edit.event"><btn-switch ng-model="event.full_day"></btn-switch></div></div><div class="form-group" ng-if="!edit.event"><label>Wann</label><p ng-if="!event.full_day">{{event.start | amDateFormat:'dddd DD.MM.YYYY, HH:mm'}}</p><p ng-if="event.full_day">{{event.start | amDateFormat:'dddd DD.MM.YYYY'}}</p></div><div class="form-group" ng-if="edit.event" style="display:inline-block;width:100%"><label class="row control-label">Wann</label><div class="col-sm-6" style="padding-left:0px"><input type="text" ng-model="event.start" required data-min-date="today" bs-datepicker="" class="form-control"></div><div class="col-sm-6" style="padding-right:0px" ng-if="!event.full_day"><input type="text" ng-model="event.start" bs-timepicker="" data-model-time-format="yyyy-MM-dd HH:mm:ss" data-time-type="string" required class="form-control"></div></div><div class="form-group" ng-if="!edit.event && !event.full_day"><label>Bis</label><p>{{event.end| amDateFormat:'dddd DD.MM.YYYY, HH:mm'}}</p></div><div class="form-group" ng-if="edit.event && !event.full_day" style="display:inline-block;width:100%"><label class="row control-label">Bis</label><div class="col-sm-6" style="padding-left:0px"><input type="text" ng-model="event.end" required data-date-type="date" data-min-date="today" bs-datepicker="" class="form-control"></div><div class="col-sm-6" style="padding-right:0px"><input type="text" ng-model="event.end" bs-timepicker="" required class="form-control"></div></div><div class="form-group"><label>Wo</label><p ng-if="!edit.event">Labor {{event.labor_id}}</p><select class="form-control" ng-model="event.labor_id" ng-if="edit.event"><option value="1">Labor 1<option value="2">Labor 2</select></div><div class="alert alert-danger anim" ng-if="dateError" role="alert">Der gewählte Termin ist nicht frei!</div></div><div class="col-md-6"><div class="form-group"><label>Beschreibung</label><p ng-if="!edit.event">{{ event.description || 'Keine Beschreibung vorhanden'}}</p><textarea ng-if="edite.event" ng-model="event.description" style="height:300px" class="form-control"></textarea></div></div></div></div></div><div class="col-md-12" ng-if="event.type == 'group' || event.type == 'solo'"><div class="panel panel-default"><div class="panel-heading"><div class="btn-group pull-right"><button ng-if="inFuture()" title="Buchung bearbeiten" class="btn btn-xs" ng-click="toggleEventEdit()" ng-class="{'btn-success':edit.event == false, 'btn-danger': edit.event == true}"><i class="fa" ng-class="{'fa-lock':edit.event == false, 'fa-unlock': edit.event == true}"></i></button></div><h3 style="margin:0">Buchung</h3></div><div class="panel-body"><div class="col-md-6"><div class="form-group"><label>Was</label><p ng-if="!edit.event">{{event.class.title}}</p><select ng-if="edit.event" class="form-control" ng-options="class.id as class.title for class in classes" ng-model="event.class_id"></select></div><div class="form-group" ng-if="!edit.event"><label>Wann</label><p>{{event.start | amDateFormat:'dddd DD.MM.YYYY, HH:mm'}}</p></div><div class="form-group" ng-if="edit.event" style="display:inline-block;width:100%"><label class="row control-label">Wann</label><div class="col-sm-6" style="padding-left:0px"><input type="text" ng-model="event.start" required data-min-date="today" bs-datepicker="" class="form-control"></div><div class="col-sm-6" style="padding-right:0px"><input type="text" ng-model="event.start" bs-timepicker="" data-model-time-format="yyyy-MM-dd HH:mm:ss" data-time-type="string" required class="form-control"></div></div><div class="form-group"><label>Bis</label><p>{{event.end| amDateFormat:'dddd DD.MM.YYYY, HH:mm'}}</p></div><div class="form-group"><label>Wo</label><p ng-if="!edit.event">Labor {{event.labor_id}}</p><select class="form-control" ng-model="event.labor_id" ng-if="edit.event"><option value="1">Labor 1<option value="2">Labor 2</select></div><div class="alert alert-danger anim" ng-if="dateError" role="alert">Der gewählte Termin ist nicht frei!</div></div><div class="col-md-6"><div class="form-group"><label>Plätze gesamt</label><p>{{event.labor.places}}</p></div><div class="form-group" ng-if="event.groups == 1"><label>Plätze gebucht</label><p>{{event.places}}</p></div><div class="form-group" ng-if="event.solo == 1"><label>Teilnehmer</label><p>{{ places }}</p></div><div class="form-group"><label>Kosten/Platz</label><p>{{event.class.prize | currency: '€ '}}</p></div><div class="form-group" ng-if="event.groups == 1"><label>Kosten Gesamt</label><p>{{event.class.prize * event.places| currency: '€ '}}</p></div></div></div></div></div><div class="col-md-12" ng-if="!inFuture()"><div class="panel panel-default"><div class="panel-heading"><div class="btn-group pull-right"><button title="Fotos hinzufügen" ng-click="openImagesModal(true)" class="btn btn-xs btn-success"><i class="fa fa-plus"></i></button></div><h3 style="margin:0">Fotos</h3></div><div class="panel-body image-uploader"><ul class="images row grid-view" as-sortable="sortController" ng-model="event.images"><li ng-repeat="image in event.images" as-sortable-item="" class="image"><div class="content"><img ng-src="http://www.openscience.or.at/assets/lib/phpThumb/phpThumb.php?src=http://www.openscience.or.at/{{ image.url}}&amp;w=220&amp;h=145&amp;zc=1&amp;f=jpg&amp;q=100"></div><div class="image-menu"><ul><li ng-click="removeImage(image)"><i class="fa fa-times"></i></li><li as-sortable-item-handle=""><i class="fa fa-arrows"></i></li></ul></div></li></ul></div></div></div><div class="col-md-12" ng-if="event.groups == 1"><div class="panel panel-default"><div class="panel-heading"><div class="btn-group pull-right"><button ng-if="inFuture()" title="Kontakt bearbeiten" class="btn btn-xs" ng-click="toggleContactEdit()" ng-class="{'btn-success':edit.contact == false, 'btn-danger': edit.contact == true}"><i class="fa" ng-class="{'fa-lock':edit.contact == false, 'fa-unlock': edit.contact == true}"></i></button></div><h3 style="margin:0">Kontakt</h3></div><div class="panel-body"><form><div class="col-md-6"><div class="form-group"><label>Institut</label><input type="text" ng-model="event.company" ng-disabled="!edit.contact" class="form-control"></div><div class="form-group"><label>Nachname</label><input type="text" ng-model="event.lastname" class="form-control" ng-disabled="!edit.contact"></div><div class="form-group"><label>Vorname</label><input type="text" ng-model="event.firstname" class="form-control" ng-disabled="!edit.contact"></div><div class="form-group"><label>Adresse</label><input type="text" ng-model="event.street" class="form-control" ng-disabled="!edit.contact"></div><div class="form-group"><label>Plz, Ort</label><div class="clear"></div><input type="text" style="width:24%;display:inline" ng-model="event.zip" class="form-control" ng-disabled="!edit.contact"><input type="text" style="width:75%;display:inline" ng-model="event.city" class="form-control" ng-disabled="!edit.contact"></div></div><div class="col-md-6"><div class="form-group"><label>E-Mail</label><input type="text" ng-model="event.email" class="form-control" ng-disabled="!edit.contact"></div><div class="form-group"><label>Telefon</label><input type="text" ng-model="event.phone" class="form-control" ng-disabled="!edit.contact"></div><div class="form-group"><label>Fax</label><input type="text" ng-model="event.fax" class="form-control" ng-disabled="!edit.contact"></div></div></form></div></div></div><div class="col-md-12" ng-if="event.solo == 1"><div class="panel panel-default"><div class="panel-heading"><div class="btn-group pull-right"><button ng-if="inFuture() && (event.labor.places - places > 0)" title="Neuer Teilnehmer" class="btn btn-xs btn-success" ng-click="addTicket()"><i class="fa fa-plus"></i></button></div><h3 style="margin:0">Teilnehmer</h3></div><div class="panel-body"><table class="table-hover table"><thead><th><th>Plätze<th>Nachname<th>Vorname<th>E-Mail<th>Telefon<th>Ort<tbody><tr ng-repeat="ticket in event.tickets.query"><td><button ng-click="showTicket(ticket)" class="btn btn-xs btn-info"><i class="fa fa-eye"></i></button><td>{{ ticket.places }}<td>{{ ticket.lastname}}<td>{{ ticket.firstname}}<td>{{ ticket.email}}<td>{{ ticket.phone}}<td>{{ ticket.zip}} {{ticket.city}}</table></div></div></div></div></div>