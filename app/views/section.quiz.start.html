<div class="article anim quiz_container" ng-if="q.id">
    <div style="border: 5px solid;padding:10px;" class="row">
        <h3 style="margin:16px 16px 0">
            <div style="border-bottom: 1px solid;padding-bottom: 5px;margin-bottom: 5px">QUIZ // {{ q.title}}</div>
            <div ng-if="startet && !finished" style="font-size: 0.7em; margin-bottom: 1em;text-transform: uppercase;">Frage {{position}}/{{q.questions.length}}</div>
        </h3>



        <div class="article_main_content" ng-bind-html="q.description" ng-if="!startet"></div>
        <div class="article_main_content" ng-repeat="question in q.questions" ng-show="q.questions.indexOf(question) == position-1 && !finished">

            <h2 class="question_title">

                <div>{{ question.title}}</div>
            </h2>
            <ul class="answers">
                <li ng-repeat="answer in question.answers">
                    <label>
                        <input type="radio" ng-model="user" ng-change="setAnswer(question, answer)" name="{{question.name}}" class="answer-input" ng-value="question.answers.indexOf(answer)" />
                        <span class="answer-text">{{answer.text}}</span>
                    </label>
                </li>
            </ul>
        </div>

        <div class="article_main_content" ng-if="finished">
            <h2 class="question_title">
                <div>Sie haben {{ stats.right}} von {{ q.questions.length}} richtig beantwortet.</div>
            </h2>
            <div style="margin:20px 0;">
                <div class="progress">
                    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="{{stats.percent}}" aria-valuemin="0" aria-valuemax="100" style="width: {{stats.percent}}%;">
                        <span>{{stats.percent | toint}}%</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="article_main_content" ng-if="finished">
            <h2 class="question_title">
                <div style="font-size:0.85em">Der Druchschnitt liegt bei {{q.stats.success_percent | toint }}% richtiger Antworten.</div>
            </h2>
            <div style="margin:20px 0;">
                <div class="progress">
                    <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="{{q.stats.success_percent}}" aria-valuemin="0" aria-valuemax="100" style="width: {{q.stats.success_percent}}%;">
                        <span>{{q.stats.success_percent | toint}}%</span>
                    </div>
                </div>
            </div>
        </div>
        <button type="button" ng-click="startQuiz()" class="row" ng-if="!startet">&laquo; Quiz starten &raquo;</button>
        <button type="button" ui-sref="section.quiz()" class="row" ng-if="startet && finished">&laquo; Zurück zur Übersicht &raquo;</button>
        <button type="button" class="pull-left" ng-if="startet && position > 1 && !finished" ng-click="changeQuestion(-1)">&laquo; Zurück</button>
        <button type="button" class="pull-right" ng-if="startet && position < q.questions.length && !finished" ng-click="changeQuestion(1)">Nächste Frage &raquo;</button>
        <button type="button" class="pull-right" ng-if="startet && position == q.questions.length && !finished" ng-click="finish()"> &raquo; Fertig &laquo;</button>
    </div>
</div>